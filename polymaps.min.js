if(!org)var org={};if(!org.polymaps)org.polymaps={};
(function(v){function ha(d){var i=d.indexOf(":");return i<0?d:{space:v.ns[d.substring(0,i)],local:d.substring(i+1)}}function S(){for(var d=0;d<S.maps.length;d++)S.maps[d].resize()}function Y(d){return 360/Math.PI*Math.atan(Math.exp(d*Math.PI/180))-90}function Z(d){return 180/Math.PI*Math.log(Math.tan(Math.PI/4+d*Math.PI/360))}function aa(d,i){if(d.row>i.row){var c=d;d=i;i=c}return{x0:d.column,y0:d.row,x1:i.column,y1:i.row,dx:i.column-d.column,dy:i.row-d.row}}function ea(d,i,c,m,e){c=Math.max(c,Math.floor(i.y0));
m=Math.min(m,Math.ceil(i.y1));if(d.x0==i.x0&&d.y0==i.y0?d.x0+i.dy/d.dy*d.dx<i.x1:d.x1-i.dy/d.dy*d.dx<i.x0){var a=d;d=i;i=a}a=d.dx/d.dy;var h=i.dx/i.dy,k=d.dx>0,n=i.dx<0;for(c=c;c<m;c++){var q=a*Math.max(0,Math.min(d.dy,c+k-d.y0))+d.x0;e(Math.floor(h*Math.max(0,Math.min(i.dy,c+n-i.y0))+i.x0),Math.ceil(q),c)}}function fa(d,i,c,m,e,a){var h=aa(d,i);i=aa(i,c);d=aa(c,d);if(h.dy>i.dy){c=h;h=i;i=c}if(h.dy>d.dy){c=h;h=d;d=c}if(i.dy>d.dy){c=i;i=d;d=c}h.dy&&ea(d,h,m,e,a);i.dy&&ea(d,i,m,e,a)}v.version="2.5.1";
var $={x:0,y:0};v.ns={svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink"};v.id=function(){var d=0;return function(){return++d}}();v.svg=function(d){return document.createElementNS(v.ns.svg,d)};v.transform=function(d,i,c,m,e,a){var h={},k,n,q;if(!arguments.length){d=1;i=e=c=0;m=1;a=0}h.zoomFraction=function(f){if(!arguments.length)return n;n=f;k=Math.floor(n+Math.log(Math.sqrt(d*d+i*i+c*c+m*m))/Math.LN2);q=Math.pow(2,-k);return h};h.apply=function(f){var g=Math.pow(2,-f.zoom),u=
Math.pow(2,f.zoom-k);return{column:(d*f.column*g+c*f.row*g+e)*u,row:(i*f.column*g+m*f.row*g+a)*u,zoom:f.zoom-k}};h.unapply=function(f){var g=Math.pow(2,-f.zoom),u=Math.pow(2,f.zoom+k);return{column:(f.column*g*m-f.row*g*c-e*m+a*c)/(d*m-i*c)*u,row:(f.column*g*i-f.row*g*d-e*i+a*d)/(c*i-m*d)*u,zoom:f.zoom+k}};h.toString=function(){return"matrix("+[d*q,i*q,c*q,m*q].join(" ")+" 0 0)"};return h.zoomFraction(0)};v.cache=function(d,i){function c(g){f--;i&&i(g);delete h[g.key];if(g.next)g.next.prev=g.prev;
else if(n=g.prev)n.next=null;if(g.prev)g.prev.next=g.next;else if(k=g.next)k.prev=null}function m(){for(var g=n;f>q;g=g.prev){if(!g)break;g.lock||c(g)}}var e={},a={},h={},k=null,n=null,q=64,f=0;e.peek=function(g){return h[[g.zoom,g.column,g.row].join("/")]};e.load=function(g,u){var s=[g.zoom,g.column,g.row].join("/"),w=h[s];if(w){if(w.prev){if(w.prev.next=w.next)w.next.prev=w.prev;else n=w.prev;w.prev=null;w.next=k;k=k.prev=w}w.lock=1;return a[s]=w}w={key:s,column:g.column,row:g.row,zoom:g.zoom,next:k,
prev:null,lock:1};d.call(null,w,u);a[s]=h[s]=w;if(k)k.prev=w;else n=w;k=w;f++;return w};e.unload=function(g){if(!(g in a))return false;var u=a[g];u.lock=0;delete a[g];u.request&&u.request.abort(false)&&c(u);return u};e.locks=function(){return a};e.size=function(g){if(!arguments.length)return q;q=g;m();return e};e.flush=function(){m();return e};e.clear=function(){for(var g in h){var u=h[g];u.request&&u.request.abort(false);i&&i(h[g]);if(u.lock){u.lock=0;u.element.parentNode.removeChild(u.element)}}a=
{};h={};k=n=null;f=0;return e};return e};v.url=function(d){function i(e){var a=e.zoom<0?1:1<<e.zoom,h=e.column;if(m){h=e.column%a;if(h<0)h+=a}else if(h<0||h>=a)return null;return d.replace(/{(.)}/g,function(k,n){switch(n){case "S":return c[(Math.abs(e.zoom)+e.row+h)%c.length];case "Z":return e.zoom;case "X":return h;case "Y":return e.row;case "B":var q=v.map.coordinateLocation({row:e.row,column:h,zoom:e.zoom}),f=v.map.coordinateLocation({row:e.row+1,column:h+1,zoom:e.zoom}),g=Math.ceil(Math.log(e.zoom)/
Math.LN2);return f.lat.toFixed(g)+","+q.lon.toFixed(g)+","+q.lat.toFixed(g)+","+f.lon.toFixed(g)}return n})}var c=[],m=true;i.template=function(e){if(!arguments.length)return d;d=e;return i};i.hosts=function(e){if(!arguments.length)return c;c=e;return i};i.repeat=function(e){if(!arguments.length)return m;m=e;return i};return i};v.dispatch=function(d){var i={};d.on=function(c,m){for(var e=i[c]||(i[c]=[]),a=0;a<e.length;a++)if(e[a].handler==m)return d;e.push({handler:m,on:true});return d};d.off=function(c,
m){var e=i[c];if(e)for(var a=0;a<e.length;a++){var h=e[a];if(h.handler==m){h.on=false;e.splice(a,1);break}}return d};return function(c){var m=i[c.type];if(m){m=m.slice();for(var e=0;e<m.length;e++){var a=m[e];a.on&&a.handler.call(d,c)}}}};v.queue=function(){function d(){if(!(e>=a||!m.length)){e++;m.pop()()}}function i(h){for(var k=0;k<m.length;k++)if(m[k]==h){m.splice(k,1);return true}return false}function c(h,k,n){function q(){f=new XMLHttpRequest;n&&f.overrideMimeType&&f.overrideMimeType(n);f.open("GET",
h,true);f.onreadystatechange=function(){if(f.readyState==4){e--;f.status<300&&k(f);d()}};f.send(null)}var f;m.push(q);d();return{abort:function(g){if(i(q))return true;if(g&&f){f.abort();return true}return false}}}var m=[],e=0,a=6;return{text:function(h,k,n){return c(h,function(q){q.responseText&&k(q.responseText)},n)},xml:function(h,k){return c(h,function(n){n.responseXML&&k(n.responseXML)},"application/xml")},json:function(h,k){return c(h,function(n){n.responseText&&k(JSON.parse(n.responseText))},
"application/json")},image:function(h,k,n){function q(){f=document.createElement("img");f.onerror=function(){e--;d()};f.onload=function(){e--;n(f);d()};f.src=k;h.setAttributeNS(v.ns.xlink,"href",k)}var f;m.push(q);d();return{abort:function(g){if(i(q))return true;if(g&&f){f.src="about:";return true}return false}}}}}();(function(){var d=!!window.ActiveXObject,i=d&&!window.XMLHttpRequest,c=d&&!document.querySelector,m=navigator.userAgent.toLowerCase(),e=m.indexOf("webkit")!==-1,a=m.indexOf("chrome")!==
-1,h=m.indexOf("android")!==-1;m=m.search("android [23]")!==-1;var k=typeof orientation!=="undefined",n=window.navigator&&window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints,q="devicePixelRatio"in window&&window.devicePixelRatio>1||"matchMedia"in window&&window.matchMedia("(min-resolution:144dpi)")&&window.matchMedia("(min-resolution:144dpi)").matches,f=document.documentElement,g=d&&"transition"in f.style,u="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix,s="MozPerspective"in
f.style,w="OTransition"in f.style,z=!window.P_DISABLE_3D&&(g||u||s||w),E=!window.P_NO_TOUCH&&function(){if(n||"ontouchstart"in f)return true;var y=document.createElement("div"),F=false;if(!y.setAttribute)return false;y.setAttribute("ontouchstart","return;");if(typeof y.ontouchstart==="function")F=true;y.removeAttribute("ontouchstart");return F}();v.browser={ie:d,ie6:i,ie7:c,webkit:e,android:h,android23:m,chrome:a,ie3d:g,webkit3d:u,gecko3d:s,opera3d:w,any3d:z,mobile:k,mobileWebkit:k&&e,mobileWebkit3d:k&&
u,mobileOpera:k&&window.opera,touch:E,msTouch:n,retina:q}})();v.map=function(){function d(){if(u)if(q<u[0])q=u[0];else if(q>u[1])q=u[1];f=q-(q=Math.round(q));g=Math.pow(2,f)}function i(){if(r){var j=45/Math.pow(2,q+f-3),o=Math.max(Math.abs(z*h.x+w*h.y),Math.abs(y*h.x+E*h.y)),t=Y(F-o*j/k.y);o=Y(l+o*j/k.y);n.lat=Math.max(t,Math.min(o,n.lat));t=Math.max(Math.abs(z*h.y+w*h.x),Math.abs(y*h.y+E*h.x));n.lon=Math.max(r[0].lon-t*j/k.x,Math.min(r[1].lon+t*j/k.x,n.lon))}}var c={},m,e,a=$,h=$,k={x:256,y:256},
n={lat:37.76487,lon:-122.41948},q=12,f=0,g=1,u=[1,18],s=0,w=1,z=0,E=1,y=0,F=-180,l=180,r=[{lat:Y(F),lon:-Infinity},{lat:Y(l),lon:Infinity}];c.locationCoordinate=function(j){j=v.map.locationCoordinate(j);var o=Math.pow(2,q);j.column*=o;j.row*=o;j.zoom+=q;return j};c.coordinateLocation=v.map.coordinateLocation;c.coordinatePoint=function(j,o){var t=Math.pow(2,q-o.zoom),C=Math.pow(2,q-j.zoom),D=(o.column*t-j.column*C)*k.x*g;t=(o.row*t-j.row*C)*k.y*g;return{x:h.x+w*D-z*t,y:h.y+z*D+w*t}};c.pointCoordinate=
function(j,o){var t=Math.pow(2,q-j.zoom),C=(o.x-h.x)/g,D=(o.y-h.y)/g;return{column:j.column*t+(E*C-y*D)/k.x,row:j.row*t+(y*C+E*D)/k.y,zoom:q}};c.locationPoint=function(j){var o=Math.pow(2,q+f-3)/45,t=(j.lon-n.lon)*o*k.x;j=(Z(n.lat)-Z(j.lat))*o*k.y;return{x:h.x+w*t-z*j,y:h.y+z*t+w*j}};c.pointLocation=function(j){var o=45/Math.pow(2,q+f-3),t=(j.x-h.x)*o;j=(j.y-h.y)*o;return{lon:n.lon+(E*t-y*j)/k.x,lat:Y(Z(n.lat)-(y*t+E*j)/k.y)}};var x=v.svg("rect");x.setAttribute("visibility","hidden");x.setAttribute("pointer-events",
"all");c.container=function(j){if(!arguments.length)return m;m=j;m.setAttribute("class","map");m.appendChild(x);return c.resize()};c.focusableParent=function(){for(var j=m;j;j=j.parentNode)if(j.tabIndex>=0)return j;return window};c.mouse=function(j){var o=(m.ownerSVGElement||m).createSVGPoint();if(ba<0&&(window.scrollX||window.scrollY)){var t=document.body.appendChild(v.svg("svg"));t.style.position="absolute";t.style.top=t.style.left="0px";var C=t.getScreenCTM();ba=!(C.f||C.e);document.body.removeChild(t)}if(ba){o.x=
j.pageX;o.y=j.pageY}else{o.x=j.clientX;o.y=j.clientY}return o.matrixTransform(m.getScreenCTM().inverse())};c.size=function(j){if(!arguments.length)return a;e=j;return c.resize()};c.resize=function(){if(e){a=e;S.remove(c)}else{x.setAttribute("width","100%");x.setAttribute("height","100%");b=x.getBBox();a={x:b.width,y:b.height};S.add(c)}x.setAttribute("width",a.x);x.setAttribute("height",a.y);h={x:a.x/2,y:a.y/2};i();c.dispatch({type:"resize"});return c};c.tileSize=function(j){if(!arguments.length)return k;
k=j;c.dispatch({type:"move"});return c};c.center=function(j){if(!arguments.length)return n;n=j;i();c.dispatch({type:"move"});return c};c.panBy=function(j){var o=45/Math.pow(2,q+f-3),t=j.x*o;j=j.y*o;return c.center({lon:n.lon+(y*j-E*t)/k.x,lat:Y(Z(n.lat)+(y*t+E*j)/k.y)})};c.centerRange=function(j){if(!arguments.length)return r;if(r=j){F=r[0].lat>-90?Z(r[0].lat):-Infinity;l=r[0].lat<90?Z(r[1].lat):Infinity}else{F=-Infinity;l=Infinity}i();c.dispatch({type:"move"});return c};c.zoom=function(j){if(!arguments.length)return q+
f;q=j;d();return c.center(n)};c.zoomBy=function(j,o,t){if(arguments.length<2)return c.zoom(q+f+j);if(arguments.length<3)t=c.pointLocation(o);q=q+f+j;d();var C=c.locationPoint(t);return c.panBy({x:o.x-C.x,y:o.y-C.y})};c.zoomRange=function(j){if(!arguments.length)return u;u=j;return c.zoom(q+f)};c.extent=function(j){if(!arguments.length)return[c.pointLocation({x:0,y:a.y}),c.pointLocation({x:a.x,y:0})];var o=c.locationPoint(j[0]),t=c.locationPoint(j[1]),C=Math.max((t.x-o.x)/a.x,(o.y-t.y)/a.y);o=c.pointLocation({x:(o.x+
t.x)/2,y:(o.y+t.y)/2});q=q+f-Math.log(C)/Math.LN2;d();return c.center(o)};c.angle=function(j){if(!arguments.length)return s;s=j;w=Math.cos(s);z=Math.sin(s);E=Math.cos(-s);y=Math.sin(-s);i();c.dispatch({type:"move"});return c};c.add=function(j){j.map(c);return c};c.remove=function(j){j.map(null);return c};c.dispatch=v.dispatch(c);return c};S.maps=[];S.add=function(d){for(var i=0;i<S.maps.length;i++)if(S.maps[i]==d)return;S.maps.push(d)};S.remove=function(d){for(var i=0;i<S.maps.length;i++)if(S.maps[i]==
d){S.maps.splice(i,1);return}};if(window.addEventListener){window.addEventListener("resize",S,false);window.addEventListener("load",S,false)}v.map.locationCoordinate=function(d){var i=1/360;return{column:(d.lon+180)*i,row:(180-Z(d.lat))*i,zoom:0}};v.map.coordinateLocation=function(d){var i=45/Math.pow(2,d.zoom-3);return{lon:i*d.column-180,lat:Y(180-i*d.row)}};var ba=/WebKit/.test(navigator.userAgent)?-1:0;v.layer=function(d,i){function c(y){for(var F=z[0].nextSibling;w<y;w++){u.insertBefore(z[-4],
F);u.insertBefore(z[2],F);u.insertBefore(z[1],F);for(var l=z[-4],r=-4;r<2;)z[r]=z[++r];z[r]=l}}function m(y){for(var F=z[0].nextSibling;w>y;w--){u.insertBefore(z[-1],F);u.insertBefore(z[2],z[-4]);for(var l=z[2],r=2;r>-4;)z[r]=z[--r];z[r]=l}}function e(){function y(O){var A=O.zoom,G=A<0?1:1<<A,I=O.column%G,K=O.row;if(I<0)I+=G;return{locationPoint:function(L){L=v.map.locationCoordinate(L);var P=Math.pow(2,A-L.zoom);return{x:C.x*(P*L.column-I),y:C.y*(P*L.row-K)}}}}function F(O,A,G){var I=M.zoom,K=2-
Q,L=4+Q;for(O=O;O<A;O++){var P=h.load({column:O,row:G,zoom:I},y);if(!P.ready&&!(P.key in H)){P.proxyRefs={};for(var W,X,U,V=1;V<=K;V++){X=true;for(var ca=0,ga=1<<V;ca<=ga;ca++)for(var da=0;da<=ga;da++)if((U=h.peek(W={column:(O<<V)+da,row:(G<<V)+ca,zoom:I+V}))&&U.ready){H[U.key]=h.load(W);U.proxyCount++;P.proxyRefs[U.key]=U}else X=false;if(X)break}if(!X)for(V=1;V<=L;V++)if((U=h.peek(W={column:O>>V,row:G>>V,zoom:I-V}))&&U.ready){H[U.key]=h.load(W);U.proxyCount++;P.proxyRefs[U.key]=U;break}}H[P.key]=
P}}function l(O){return Math.round(O*256)/256}var r=a.map(),x=r.zoom(),j=x-(x=Math.round(x)),o=r.size(),t=r.angle(),C=r.tileSize(),D=r.locationCoordinate(r.center());if(w!=x){if(w<x)c(x);else if(w>x)m(x);else w=x;for(var B=-4;B<=2;B++){var N=z[B];N.setAttribute("class","zoom"+(B<0?"":"+")+B+" zoom"+(x+B));N.setAttribute("transform","scale("+Math.pow(2,-B)+")")}}var M=r.pointCoordinate(D,$);B=r.pointCoordinate(D,{x:o.x,y:0});x=r.pointCoordinate(D,o);r=r.pointCoordinate(D,{x:0,y:o.y});N=D.column;var T=
D.row;D.column=Math.round((Math.round(C.x*D.column)+(o.x&1)/2)/C.x);D.row=Math.round((Math.round(C.y*D.row)+(o.y&1)/2)/C.y);N-=D.column;T-=D.row;var J=l(Math.pow(2,j));u.setAttribute("transform","translate("+Math.round(o.x/2-N*C.x*J)+","+Math.round(o.y/2-T*C.y*J)+")"+(t?"rotate("+t/Math.PI*180+")":"")+(j?"scale("+J+")":"")+(s?s.zoomFraction(j):""));if(s){M=s.unapply(M);B=s.unapply(B);x=s.unapply(x);r=s.unapply(r);D=s.unapply(D)}var Q=q?q(M.zoom)-M.zoom:0;if(Q){o=Math.pow(2,Q);M.column*=o;M.row*=o;
B.column*=o;B.row*=o;x.column*=o;x.row*=o;r.column*=o;r.row*=o;M.zoom=B.zoom=x.zoom=r.zoom+=Q}j=h.locks();var H={};for(var R in j)j[R].proxyCount=0;if(n&&Q>-5&&Q<3){t=M.zoom<0?1:1<<M.zoom;if(k){fa(M,B,x,0,t,F);fa(x,r,M,0,t,F)}else{o=Math.floor((M.column+x.column)/2);t=Math.max(0,Math.min(t-1,Math.floor((B.row+r.row)/2)));B=Math.min(4,M.zoom);o=o>>B<<B;t=t>>B<<B;F(o,o+1,t)}}for(R in H){B=H[R];o=l(Math.pow(2,B.level=B.zoom-D.zoom));B.element.setAttribute("transform","translate("+Math.round(B.x=C.x*
(B.column-D.column*o))+","+Math.round(B.y=C.y*(B.row-D.row*o))+")")}for(R in j)if(!(R in H)){B=h.unload(R);B.element.parentNode.removeChild(B.element);delete B.proxyRefs}for(R in H){B=H[R];if(B.element.parentNode!=z[B.level]){z[B.level].appendChild(B.element);a.show&&a.show(B)}}h.flush();a.dispatch({type:"move"})}var a={},h=a.cache=v.cache(d,i).size(512),k=true,n=true,q,f,g,u=v.svg("g"),s,w,z={};u.setAttribute("class","layer");for(var E=-4;E<=-1;E++)z[E]=u.appendChild(v.svg("g"));for(E=2;E>=1;E--)z[E]=
u.appendChild(v.svg("g"));z[0]=u.appendChild(v.svg("g"));a.map=function(y){if(!arguments.length)return g;if(g){if(g==y){u.parentNode.appendChild(u);return a}g.off("move",e).off("resize",e);u.parentNode.removeChild(u)}if(g=y){g.container().appendChild(u);a.init&&a.init(u);g.on("move",e).on("resize",e);e()}return a};a.container=function(){return u};a.levels=function(){return z};a.id=function(y){if(!arguments.length)return f;f=y;u.setAttribute("id",y);return a};a.visible=function(y){if(!arguments.length)return n;
(n=y)?u.removeAttribute("visibility"):u.setAttribute("visibility","hidden");g&&e();return a};a.transform=function(y){if(!arguments.length)return s;s=y;g&&e();return a};a.zoom=function(y){if(!arguments.length)return q;q=typeof y=="function"||y==null?y:function(){return y};g&&e();return a};a.tile=function(y){if(!arguments.length)return k;k=y;g&&e();return a};a.reload=function(){h.clear();g&&e();return a};a.dispatch=v.dispatch(a);a.on("load",function(y){if(y.tile.proxyRefs){for(var F in y.tile.proxyRefs){var l=
y.tile.proxyRefs[F];--l.proxyCount<=0&&h.unload(F)&&l.element.parentNode.removeChild(l.element)}delete y.tile.proxyRefs}});return a};v.image=function(){var d=v.layer(function(c){var m=c.element=v.svg("image"),e=d.map().tileSize();m.setAttribute("preserveAspectRatio","none");m.setAttribute("width",e.x);m.setAttribute("height",e.y);if(typeof i=="function"){m.setAttribute("opacity",0);e=i(c);if(e!=null)c.request=v.queue.image(m,e,function(a){delete c.request;c.ready=true;c.img=a;m.removeAttribute("opacity");
d.dispatch({type:"load",tile:c})});else{c.ready=true;d.dispatch({type:"load",tile:c})}}else{c.ready=true;i!=null&&m.setAttributeNS(v.ns.xlink,"href",i);d.dispatch({type:"load",tile:c})}},function(c){c.request&&c.request.abort(true)}),i;d.url=function(c){if(!arguments.length)return i;i=typeof c=="string"&&/{.}/.test(c)?v.url(c):c;return d.reload()};return d};v.geoJson=function(d){function i(l){var r={lat:0,lon:0};return function(x){r.lat=x[1];r.lon=x[0];var j=l(r);x.x=j.x;x.y=j.y;return j}}function c(l,
r){return l&&l.type in z&&z[l.type](l,r)}function m(l,r,x){return l.type in E&&E[l.type](l,r,x)}function e(){var l=a.map().zoom(),r=a.cache.locks(),x,j,o,t,C,D,B;if(s=="fixed")for(x in r){if((j=r[x]).scale!=l){B="scale("+Math.pow(2,j.zoom-l)+")";t=-1;for(C=(o=j.features).length;++t<C;)m((D=o[t]).data.geometry,D.element,B);j.scale=l}}else for(x in r){t=-1;for(C=(o=(j=r[x]).features).length;++t<C;)m((D=o[t]).data.geometry,D.element,"");delete j.scale}}var a=v.layer(function(l,r){function x(o){var t=
[];if(o.next)l.request=d(o.next.href,x);switch(o.type){case "FeatureCollection":for(var C=0;C<o.features.length;C++){var D=o.features[C],B=c(D.geometry,r);B&&t.push({element:j.appendChild(B),data:D})}break;case "Feature":(B=c(o.geometry,r))&&t.push({element:j.appendChild(B),data:o});break;default:(B=c(o,r))&&t.push({element:j.appendChild(B),data:{type:"Feature",geometry:o}});break}l.ready=true;t.push.apply(l.features,t);a.dispatch({type:"load",tile:l,features:t})}var j=l.element=v.svg("g");l.features=
[];r=i(r(l).locationPoint);if(k!=null)l.request=d(typeof k=="function"?k(l):k,x);else x({type:"FeatureCollection",features:w||[]})},function(l){l.request&&l.request.abort(true)}),h=a.container(),k,n=true,q="org.polymaps."+v.id(),f="url(#"+q+")",g=h.insertBefore(v.svg("clipPath"),h.firstChild),u=g.appendChild(v.svg("rect")),s="auto",w;h.setAttribute("fill-rule","evenodd");g.setAttribute("id",q);if(!arguments.length)d=v.queue.json;var z={Point:function(l,r){var x=r(l.coordinates),j=v.svg("circle");
j.setAttribute("r",4.5);j.setAttribute("transform","translate("+x.x+","+x.y+")");return j},MultiPoint:function(l,r){for(var x=v.svg("g"),j=l.coordinates,o,t,C=-1,D=j.length;++C<D;){t=x.appendChild(v.svg("circle"));t.setAttribute("r",4.5);t.setAttribute("transform","translate("+(o=r(j[C])).x+","+o.y+")")}return x},LineString:function(l,r){for(var x=v.svg("path"),j=["M"],o=l.coordinates,t,C=-1,D=o.length;++C<D;)j.push((t=r(o[C])).x,",",t.y,"L");j.pop();if(j.length){x.setAttribute("d",j.join(""));return x}},
MultiLineString:function(l,r){for(var x=v.svg("path"),j=[],o=l.coordinates,t,C=-1,D,B=o.length,N;++C<B;){t=o[C];D=-1;N=t.length;for(j.push("M");++D<N;)j.push((p=r(t[D])).x,",",p.y,"L");j.pop()}if(j.length){x.setAttribute("d",j.join(""));return x}},Polygon:function(l,r){for(var x=v.svg("path"),j=[],o=l.coordinates,t,C=-1,D,B=o.length,N;++C<B;){t=o[C];D=-1;N=t.length-1;for(j.push("M");++D<N;)j.push((p=r(t[D])).x,",",p.y,"L");j[j.length-1]="Z"}if(j.length){x.setAttribute("d",j.join(""));return x}},MultiPolygon:function(l,
r){for(var x=v.svg("path"),j=[],o=l.coordinates,t,C,D=-1,B,N,M=o.length,T,J;++D<M;){t=o[D];B=-1;for(T=t.length;++B<T;){C=t[B];N=-1;J=C.length-1;for(j.push("M");++N<J;)j.push((p=r(C[N])).x,",",p.y,"L");j[j.length-1]="Z"}}if(j.length){x.setAttribute("d",j.join(""));return x}},GeometryCollection:function(l,r){for(var x=v.svg("g"),j=-1,o=l.geometries,t=o.length,C;++j<t;)(C=c(o[j],r))&&x.appendChild(C);return x}},E={Point:function(l,r,x){l=l.coordinates;r.setAttribute("transform","translate("+l.x+","+
l.y+")"+x)},MultiPoint:function(l,r,x){l=l.coordinates;var j=-1,o=t.length;r=r.firstChild;for(var t;++j<o;){t=l[j];r.setAttribute("transform","translate("+t.x+","+t.y+")"+x);r=r.nextSibling}}};a.url=function(l){if(!arguments.length)return k;k=typeof l=="string"&&/{.}/.test(l)?v.url(l):l;if(k!=null)w=null;typeof k=="string"&&a.tile(false);return a.reload()};a.features=function(l){if(!arguments.length)return w;if(w=l){k=null;a.tile(false)}return a.reload()};a.clip=function(l){if(!arguments.length)return n;
n&&h.removeChild(g);if(n=l)h.insertBefore(g,h.firstChild);var r=a.cache.locks();for(var x in r)n?r[x].element.setAttribute("clip-path",f):r[x].element.removeAttribute("clip-path");return a};var y=a.tile;a.tile=function(l){arguments.length&&!l&&a.clip(l);return y.apply(a,arguments)};var F=a.map;a.map=function(l){if(l&&u){var r=l.tileSize();u.setAttribute("width",r.x);u.setAttribute("height",r.y)}return F.apply(a,arguments)};a.scale=function(l){if(!arguments.length)return s;(s=l)?a.on("move",e):a.off("move",
e);a.map()&&e();return a};a.show=function(l){n?l.element.setAttribute("clip-path",f):l.element.removeAttribute("clip-path");a.dispatch({type:"show",tile:l,features:l.features});return a};a.reshow=function(){var l=a.cache.locks();for(var r in l)a.show(l[r]);return a};return a};v.dblclick=function(){function d(a){var h=m.zoom();h=a.shiftKey?Math.ceil(h)-h-1:1-h+Math.floor(h);c==="mouse"?m.zoomBy(h,m.mouse(a)):m.zoomBy(h)}var i={},c="mouse",m,e;i.zoom=function(a){if(!arguments.length)return c;c=a;return i};
i.map=function(a){if(!arguments.length)return m;if(m){e.removeEventListener("dblclick",d,false);e=null}if(m=a){e=m.container();e.addEventListener("dblclick",d,false)}return i};return i};v.drag=function(){function d(f){if(!f.shiftKey)if(!(f.touches&&f.touches.length>1)){var g=f.touches&&f.touches.length===1?f.touches[0]:f;k=f.type;h={x:g.clientX,y:g.clientY};f.preventDefault();document.body.style.setProperty("cursor","move",null)}}function i(f){if(!(!h||f.type!==n.MOVE[k]))if(!(f.touches&&f.touches.length>
1)){f=f.touches&&f.touches.length===1?f.touches[0]:f;e.panBy({x:f.clientX-h.x,y:f.clientY-h.y});h.x=f.clientX;h.y=f.clientY}}function c(f){if(!(!h||f.type!==n.END[k])){f.touches||i(f);h=null;document.body.style.removeProperty("cursor")}}var m={},e,a,h,k,n={START:v.browser.touch?["touchstart","mousedown"]:["mousedown"],END:{mousedown:"mouseup",touchstart:"touchend"},MOVE:{mousedown:"mousemove",touchstart:"touchmove"}};m.map=function(f){if(!arguments.length)return e;if(e){for(var g=n.START.length-1;g>=
0;g--)a.removeEventListener(n.START[g],d,false);a=null}if(e=f){a=e.container();for(g=n.START.length-1;g>=0;g--)a.addEventListener(n.START[g],d,false)}return m};for(var q=n.START.length-1;q>=0;q--){document.addEventListener(n.MOVE[n.START[q]],i,false);document.addEventListener(n.END[n.START[q]],c,false)}return m};v.wheel=function(){function d(){h=null}function i(g){var u=g.wheelDelta||-g.detail,s;if(u)if(e){try{f.scrollTop=1E3;f.dispatchEvent(g);u=1E3-f.scrollTop}catch(w){}u*=0.0050}else{s=Date.now();
if(s-m>200){u=u>0?+1:-1;m=s}else u=0}if(u)switch(a){case "mouse":s=k.mouse(g);h||(h=k.pointLocation(s));k.off("move",d).zoomBy(u,s,h).on("move",d);break;case "location":k.zoomBy(u,k.locationPoint(h),h);break;default:k.zoomBy(u);break}g.preventDefault();return false}var c={},m=0,e=true,a="mouse",h,k,n,q=document.createElement("div"),f=document.createElement("div");f.style.visibility="hidden";f.style.top="0px";f.style.height="0px";f.style.width="0px";f.style.overflowY="scroll";q.style.height="2000px";
f.appendChild(q);document.body.appendChild(f);c.smooth=function(g){if(!arguments.length)return e;e=g;return c};c.zoom=function(g,u){if(!arguments.length)return a;a=g;h=u;if(k)a=="mouse"?k.on("move",d):k.off("move",d);return c};c.map=function(g){if(!arguments.length)return k;if(k){n.removeEventListener("mousemove",d,false);n.removeEventListener("mousewheel",i,false);n.removeEventListener("MozMousePixelScroll",i,false);n=null;k.off("move",d)}if(k=g){a=="mouse"&&k.on("move",d);n=k.container();n.addEventListener("mousemove",
d,false);n.addEventListener("mousewheel",i,false);n.addEventListener("MozMousePixelScroll",i,false)}return c};return c};v.arrow=function(){function d(s){if(!(s.ctrlKey||s.altKey||s.metaKey)){var w=Date.now(),z=0,E=0;switch(s.keyCode){case 37:if(!a.left){h=w;a.left=1;a.right||(z=f)}break;case 39:if(!a.right){h=w;a.right=1;a.left||(z=-f)}break;case 38:if(!a.up){h=w;a.up=1;a.down||(E=f)}break;case 40:if(!a.down){h=w;a.down=1;a.up||(E=-f)}break;default:return}if(z||E)g.panBy({x:z,y:E});if(!k&&a.left|
a.right|a.up|a.down)k=setInterval(m,q);s.preventDefault()}}function i(s){h=Date.now();switch(s.keyCode){case 37:a.left=0;break;case 39:a.right=0;break;case 38:a.up=0;break;case 40:a.down=0;break;default:return}if(k&&!(a.left|a.right|a.up|a.down))k=clearInterval(k);s.preventDefault()}function c(s){switch(s.charCode){case 45:case 95:g.zoom(Math.ceil(g.zoom())-1);break;case 43:case 61:g.zoom(Math.floor(g.zoom())+1);break;default:return}s.preventDefault()}function m(){if(g)if(!(Date.now()<h+n)){var s=
(a.left-a.right)*f,w=(a.up-a.down)*f;if(s||w)g.panBy({x:s,y:w})}}var e={},a={left:0,right:0,up:0,down:0},h=0,k,n=250,q=50,f=16,g,u;e.map=function(s){if(!arguments.length)return g;if(g){u.removeEventListener("keypress",c,false);u.removeEventListener("keydown",d,false);u.removeEventListener("keyup",i,false);u=null}if(g=s){u=g.focusableParent();u.addEventListener("keypress",c,false);u.addEventListener("keydown",d,false);u.addEventListener("keyup",i,false)}return e};e.speed=function(s){if(!arguments.length)return f;
f=s;return e};return e};v.hash=function(){function d(){var k=h(e);if(m!==k)location.replace(m=k)}function i(){if(location.hash!==m)if(a(e,(m=location.hash).substring(1)))d()}var c={},m,e,a=function(k,n){var q=n.split("/").map(Number);if(q.length<3||q.some(isNaN))return true;else{var f=k.size();k.zoomBy(q[0]-k.zoom(),{x:f.x/2,y:f.y/2},{lat:Math.min(89.99999999,Math.max(-89.99999999,q[1])),lon:q[2]})}},h=function(k){var n=k.center();k=k.zoom();var q=Math.max(0,Math.ceil(Math.log(k)/Math.LN2));return"#"+
k.toFixed(2)+"/"+n.lat.toFixed(q)+"/"+n.lon.toFixed(q)};c.map=function(k){if(!arguments.length)return e;if(e){e.off("move",d);window.removeEventListener("hashchange",i,false)}if(e=k){e.on("move",d);window.addEventListener("hashchange",i,false);location.hash?i():d()}return c};c.parser=function(k){if(!arguments.length)return a;a=k;return c};c.formatter=function(k){if(!arguments.length)return h;h=k;return c};return c};v.touch=function(){function d(s,w){for(var z=-1,E=s.length;++z<E;){var y=s[z],F=y.identifier;
switch(w){case "start":f[F]={};f[F].start=f[F].current=a.mouse(y);break;case "current":if(f[F])f[F].current=a.mouse(y);break;case "finish":delete f[F];break}}g[w]=true;if(w==="current")u||(u=setTimeout(i,0))}function i(){if(g.start||g.finish){k=a.zoom();angle=a.angle();n=c("start")}g={};u=null;var s=c("current"),w=s.n>1?Math.log(s.r/n.r)/Math.LN2+k-a.zoom():0;s.n&&a.zoomBy(w,s,n.location);if(q&&"angle"in s){w=s.angle-n.angle;var z=a.center();a.center(s.location);a.angle(angle+w);a.center(z)}}function c(s){var w=
[],z;for(z in f)f[z][s]&&w.push(f[z][s]);if(w.length){z=0;for(var E=w.length,y={x:w[0].x,y:w[0].y};++z<E;){y.x+=w[z].x;y.y+=w[z].y}y.x/=E;y.y/=E;y.r=0;for(z=-1;++z<E;){var F=w[z].x-y.x,l=w[z].y-y.y;F=F*F+l*l;if(F>y.r)y.r=F}y.r=Math.sqrt(y.r);if(q&&E===2){F=w[1].x-w[0].x;l=w[1].y-w[0].y;y.angle=Math.atan2(l,F)}z=y}else z={};z=z;z.n=w.length;if(z&&(q||s!=="current"))z.location=a.pointLocation(z);return z}function m(s){function w(x){d(x.changedTouches,"current");x.preventDefault()}function z(x){d(x.changedTouches,
"finish");document.removeEventListener("touchmove",w,false);document.removeEventListener("touchend",z,false);document.removeEventListener("touchcancel",z,false);delete r.__polymaps_touch_listeners__}d(s.changedTouches,"start");for(var E={},y=-1,F=s.touches.length;++y<F;)E[s.touches[y].identifier]=true;for(var l in f)E[l]||delete f[l];var r=s.target;if(!r.__polymaps_touch_listeners__){document.addEventListener("touchmove",w,false);document.addEventListener("touchend",z,false);document.addEventListener("touchcancel",
z,false);r.__polymaps_touch_listeners__=true;s.preventDefault()}}var e={},a,h,k,n,q,f={},g={},u=null;e.rotate=function(s){if(!arguments.length)return q;q=s;return e};e.map=function(s){if(!arguments.length)return a;if(a){h.removeEventListener("touchstart",m,false);h=null}if(a=s){h=a.container();h.addEventListener("touchstart",m,false)}return e};return e};v.interact=function(){var d={},i=v.drag(),c=v.wheel(),m=v.dblclick(),e=v.arrow();d.map=function(a){i.map(a);c.map(a);m.map(a);e.map(a);return d};
return d};v.compass=function(){function d(A){y.setAttribute("class","compass active");N||(N=setInterval(i,o));M&&H.panBy(M);x=Date.now();return f(A)}function i(){M&&Date.now()>x+j&&H.panBy(M)}function c(A){if(A.shiftKey){J={x0:H.mouse(A)};H.focusableParent().focus();return f(A)}}function m(A){if(J){J.x1=H.mouse(A);Q.setAttribute("x",Math.min(J.x0.x,J.x1.x));Q.setAttribute("y",Math.min(J.x0.y,J.x1.y));Q.setAttribute("width",Math.abs(J.x0.x-J.x1.x));Q.setAttribute("height",Math.abs(J.x0.y-J.x1.y));
Q.removeAttribute("display")}}function e(){y.setAttribute("class","compass");if(J){if(J.x1){H.extent([H.pointLocation({x:Math.min(J.x0.x,J.x1.x),y:Math.max(J.x0.y,J.x1.y)}),H.pointLocation({x:Math.max(J.x0.x,J.x1.x),y:Math.min(J.x0.y,J.x1.y)})]);Q.setAttribute("display","none")}J=null}if(N){clearInterval(N);N=0}}function a(A){return function(){A?this.setAttribute("class","active"):this.removeAttribute("class");M=A}}function h(A){return function(G){y.setAttribute("class","compass active");var I=H.zoom();
H.zoom(A<0?Math.ceil(I)-1:Math.floor(I)+1);return f(G)}}function k(A){return function(G){H.zoom(A);return f(G)}}function n(){this.setAttribute("class","active")}function q(){this.removeAttribute("class")}function f(A){A.stopPropagation();A.preventDefault();return false}function g(A){var G=Math.SQRT1_2*l,I=l*0.7,K=l*0.2,L=v.svg("g"),P=L.appendChild(v.svg("path")),W=L.appendChild(v.svg("path"));P.setAttribute("class","direction");P.setAttribute("pointer-events","all");P.setAttribute("d","M0,0L"+G+","+
G+"A"+l+","+l+" 0 0,1 "+-G+","+G+"Z");W.setAttribute("class","chevron");W.setAttribute("d","M"+K+","+(I-K)+"L0,"+I+" "+-K+","+(I-K));W.setAttribute("pointer-events","none");L.addEventListener("mousedown",d,false);L.addEventListener("mouseover",a(A),false);L.addEventListener("mouseout",a(null),false);L.addEventListener("dblclick",f,false);return L}function u(A){var G=l*0.4,I=G/2,K=v.svg("g"),L=K.appendChild(v.svg("path")),P=K.appendChild(v.svg("path")),W=K.appendChild(v.svg("path")),X=K.appendChild(v.svg("path"));
L.setAttribute("class","back");L.setAttribute("d","M"+-G+",0V"+-G+"A"+G+","+G+" 0 1,1 "+G+","+-G+"V0Z");P.setAttribute("class","direction");P.setAttribute("d",L.getAttribute("d"));W.setAttribute("class","chevron");W.setAttribute("d","M"+-I+","+-G+"H"+I+(A>0?"M0,"+(-G-I)+"V"+-I:""));X.setAttribute("class","fore");X.setAttribute("fill","none");X.setAttribute("d",L.getAttribute("d"));K.addEventListener("mousedown",h(A),false);K.addEventListener("mouseover",n,false);K.addEventListener("mouseout",q,false);
K.addEventListener("dblclick",f,false);return K}function s(A){var G=l*0.2,I=l*0.4,K=v.svg("g"),L=K.appendChild(v.svg("rect")),P=K.appendChild(v.svg("path"));L.setAttribute("pointer-events","all");L.setAttribute("fill","none");L.setAttribute("x",-I);L.setAttribute("y",-0.75*I);L.setAttribute("width",2*I);L.setAttribute("height",1.5*I);P.setAttribute("class","chevron");P.setAttribute("d","M"+-G+",0H"+G);K.addEventListener("mousedown",k(A),false);K.addEventListener("dblclick",f,false);return K}function w(){var A=
l+6,G=A,I=H.size();switch(t){case "top-left":break;case "top-right":A=I.x-A;break;case "bottom-left":G=I.y-G;break;case "bottom-right":A=I.x-A;G=I.y-G;break}y.setAttribute("transform","translate("+A+","+G+")");Q.setAttribute("transform","translate("+-A+","+-G+")");for(var K in F)K==H.zoom()?F[K].setAttribute("class","active"):F[K].removeAttribute("class")}function z(){for(;y.lastChild;)y.removeChild(y.lastChild);y.appendChild(Q);if(B!="none"){T=y.appendChild(v.svg("g"));T.setAttribute("class","pan");
var A=T.appendChild(v.svg("circle"));A.setAttribute("class","back");A.setAttribute("r",l);T.appendChild(g({x:0,y:-r})).setAttribute("transform","rotate(0)");T.appendChild(g({x:r,y:0})).setAttribute("transform","rotate(90)");T.appendChild(g({x:0,y:r})).setAttribute("transform","rotate(180)");T.appendChild(g({x:-r,y:0})).setAttribute("transform","rotate(270)");A=T.appendChild(v.svg("circle"));A.setAttribute("fill","none");A.setAttribute("class","fore");A.setAttribute("r",l)}else T=null;if(C!="none"){D=
y.appendChild(v.svg("g"));D.setAttribute("class","zoom");A=-0.5;if(C=="big"){F={};var G=H.zoomRange()[0];for(A=0;G<=H.zoomRange()[1];G++,A++)(F[G]=D.appendChild(s(G))).setAttribute("transform","translate(0,"+-(A+0.75)*l*0.4+")")}G=B=="none"?0.4:2;D.setAttribute("transform","translate(0,"+l*(/^top-/.test(t)?G+(A+0.5)*0.4:-G)+")");D.appendChild(u(+1)).setAttribute("transform","translate(0,"+-(A+0.5)*l*0.4+")");D.appendChild(u(-1)).setAttribute("transform","scale(-1)")}else D=null;w()}var E={},y=v.svg("g"),
F={},l=30,r=16,x=0,j=250,o=50,t="top-left",C="small",D,B="small",N,M,T,J,Q=v.svg("rect"),H,R,O;y.setAttribute("class","compass");Q.setAttribute("class","back fore");Q.setAttribute("pointer-events","none");Q.setAttribute("display","none");E.radius=function(A){if(!arguments.length)return l;l=A;H&&z();return E};E.speed=function(A){if(!arguments.length)return l;r=A;return E};E.position=function(A){if(!arguments.length)return t;t=A;H&&z();return E};E.pan=function(A){if(!arguments.length)return B;B=A;H&&
z();return E};E.zoom=function(A){if(!arguments.length)return C;C=A;H&&z();return E};E.map=function(A){if(!arguments.length)return H;if(H){R.removeEventListener("mousedown",c,false);R.removeChild(y);R=null;O.removeEventListener("mousemove",m,false);O.removeEventListener("mouseup",e,false);O=null;H.off("move",w).off("resize",w)}if(H=A){R=H.container();R.appendChild(y);R.addEventListener("mousedown",c,false);O=R.ownerDocument.defaultView;O.addEventListener("mousemove",m,false);O.addEventListener("mouseup",
e,false);H.on("move",w).on("resize",w);z()}return E};return E};v.grid=function(){function d(){var e=m.firstChild,a=c.size(),h=c.pointLocation($);c.pointLocation(a);var k=Math.pow(2,4-Math.round(c.zoom()));h.lat=Math.floor(h.lat/k)*k;h.lon=Math.ceil(h.lon/k)*k;for(var n;(n=c.locationPoint(h).x)<=a.x;h.lon+=k){e||(e=m.appendChild(v.svg("line")));e.setAttribute("x1",n);e.setAttribute("x2",n);e.setAttribute("y1",0);e.setAttribute("y2",a.y);e=e.nextSibling}for(;(n=c.locationPoint(h).y)<=a.y;h.lat-=k){e||
(e=m.appendChild(v.svg("line")));e.setAttribute("y1",n);e.setAttribute("y2",n);e.setAttribute("x1",0);e.setAttribute("x2",a.x);e=e.nextSibling}for(;e;){a=e.nextSibling;m.removeChild(e);e=a}}var i={},c,m=v.svg("g");m.setAttribute("class","grid");i.map=function(e){if(!arguments.length)return c;if(c){m.parentNode.removeChild(m);c.off("move",d).off("resize",d)}if(c=e){c.on("move",d).on("resize",d);c.container().appendChild(m);c.dispatch({type:"move"})}return i};return i};v.stylist=function(){function d(e){var a=
e.features.length,h=i.length,k=c.length,n,q,f,g,u,s;for(u=0;u<a;++u)if(q=(n=e.features[u]).element){n=n.data;for(s=0;s<h;++s){g=(f=i[s]).value;if(typeof g==="function")g=g.call(null,n);g==null?f.name.local?q.removeAttributeNS(f.name.space,f.name.local):q.removeAttribute(f.name):f.name.local?q.setAttributeNS(f.name.space,f.name.local,g):q.setAttribute(f.name,g)}for(s=0;s<k;++s){g=(f=c[s]).value;if(typeof g==="function")g=g.call(null,n);g==null?q.style.removeProperty(f.name):q.style.setProperty(f.name,
g,f.priority)}if(g=m){if(typeof g==="function")g=g.call(null,n);for(;q.lastChild;)q.removeChild(q.lastChild);g!=null&&q.appendChild(v.svg("title")).appendChild(document.createTextNode(g))}}}var i=[],c=[],m;d.attr=function(e,a){i.push({name:ha(e),value:a});return d};d.style=function(e,a,h){c.push({name:e,value:a,priority:arguments.length<3?null:h});return d};d.title=function(e){m=e;return d};return d}})(org.polymaps);
